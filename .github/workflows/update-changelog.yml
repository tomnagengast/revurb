name: update changelog

on:
  release:
    types: [released]

permissions:
  contents: write

jobs:
  update:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Update changelog
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const version = context.payload.release.tag_name;
            const changelogPath = 'CHANGELOG.md';
            
            if (fs.existsSync(changelogPath)) {
              const changelog = fs.readFileSync(changelogPath, 'utf8');
              // Add logic to update changelog if needed
              console.log(`Changelog exists for version ${version}`);
            }
